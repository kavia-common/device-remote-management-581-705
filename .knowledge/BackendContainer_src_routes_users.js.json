{"is_source_file": true, "format": "JavaScript (Node.js with Express)", "description": "This file defines API routes for user management, including listing users, retrieving user details by ID, and updating user information. It sets up Express router endpoints with middleware for authentication and role-based access control, executing SQL queries against a database.", "external_files": ["../middleware/auth", "../middleware/rbac"], "external_methods": ["authenticate", "checkPermissions", "checkRole"], "published": ["router"], "classes": [], "methods": [{"name": "GET /api/users", "description": "Lists all users with their role names, accessible only by admin users.", "parameters": "Request object with optional dbClient or app's db, Response object, Next function"}, {"name": "GET /api/users/:id", "description": "Retrieves detailed information for a specific user by ID, requires 'users:read' permission.", "parameters": "Request object with params.id, Response, Next"}, {"name": "PUT /api/users/:id", "description": "Updates user details such as full name, active status, preferences, and role. Role and status changes are restricted to admin users.", "parameters": "Request object with params.id, body containing user fields, Response, Next"}], "calls": ["client.query", "res.json", "next"], "search-terms": ["users.js", "user routes", "Express router", "user management endpoints", "role-based access control", "SQL queries users", "GET /api/users", "GET /api/users/:id", "PUT /api/users/:id"], "state": 2, "file_id": 44, "knowledge_revision": 94, "git_revision": "85b189065008d26a55883aaacacc5cd9e3c4167c", "ctags": [{"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/routes/users.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/routes/users.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}], "hash": "f214632d72825e3a85099a3462fe1445", "format-version": 4, "code-base-name": "DatabaseContainer", "filename": "BackendContainer/src/routes/users.js", "revision_history": [{"94": "85b189065008d26a55883aaacacc5cd9e3c4167c"}]}