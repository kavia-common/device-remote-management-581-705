{"is_source_file": true, "format": "Markdown", "description": "Documentation file explaining the asynchronous job execution system within a software project, including data models, API routes, Celery task workflow, SSE streaming for job status updates, and error handling strategies.", "external_files": ["src/api/routes/jobs.py", "src/tasks/jobs.py", "src/celery_app.py", "DatabaseContainer/migrate.sh"], "external_methods": ["get_db_session", "create_snmp_client", "get_sse_event_stream", "useSSE"], "published": ["POST /jobs/enqueue/snmp/get", "GET /jobs/events/{job_id}"], "classes": [{"name": "RLSTask", "description": "Custom Celery Task base class that manages RLS context, tenant and user IDs, providing helpers for database session management within RLS policies."}], "methods": [{"name": "_update_job_status", "description": "Updates the status of a job in the database, optionally recording result data, progress, and messages. It also updates the job_results table with structured JSON outcomes."}, {"name": "_check_cancellation", "description": "Checks whether a job has been marked as cancelled in the database, enabling long-running tasks to gracefully abort if needed."}], "calls": ["session.execute", "asyncio.run", "client.get", "client.close", "get_db_session"], "search-terms": ["async jobs", "Celery tasks", "job status streaming", "tenant-aware RLS", "job_results", "SSE progress updates"], "state": 2, "file_id": 111, "knowledge_revision": 273, "git_revision": "", "hash": "7d260e4f93466ec05916653048e94fb3", "format-version": 4, "code-base-name": "DatabaseContainer", "filename": "docs/ASYNC_JOBS.md", "revision_history": [{"273": ""}]}