{"is_source_file": true, "format": "JavaScript", "description": "This file implements middleware for authenticating HTTP requests using JWT tokens. It defines an 'authenticate' function that extracts the token from the Authorization header, verifies it via an external AuthService, and attaches decoded user info to the request object.", "external_files": ["../services/authService"], "external_methods": ["AuthService.verifyAccessToken"], "published": ["authenticate"], "classes": [], "methods": [{"name": "authenticate", "description": "Express middleware that authenticates a request by verifying its JWT token and attaches user info to the request object."}], "calls": ["req.headers.authorization", "authService.verifyAccessToken"], "search-terms": ["auth", "JWT", "middleware", "token verification"], "state": 2, "file_id": 30, "knowledge_revision": 80, "git_revision": "85b189065008d26a55883aaacacc5cd9e3c4167c", "ctags": [{"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^const AuthService = require('..\\/services\\/authService');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authHeader", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^    const authHeader = req.headers.authorization;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authService", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^    const authService = new AuthService(pool);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authenticate", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^const authenticate = (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authenticate", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^module.exports = { authenticate };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "decoded", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^    const decoded = authService.verifyAccessToken(token);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "pool", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^    const pool = req.app.get('db');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/middleware/auth.js", "pattern": "/^    const token = authHeader.substring(7);$/", "language": "JavaScript", "kind": "constant"}], "hash": "2d454d77624e4aa3acae4132e66c3f0d", "format-version": 4, "code-base-name": "DatabaseContainer", "filename": "BackendContainer/src/middleware/auth.js", "fields": [{"name": "module.exports = { authenticate };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"80": "85b189065008d26a55883aaacacc5cd9e3c4167c"}]}