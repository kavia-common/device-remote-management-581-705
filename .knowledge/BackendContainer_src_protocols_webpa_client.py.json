{"is_source_file": true, "format": "Python", "description": "This file implements an asynchronous Python client for the WebPA protocol, supporting HTTP-based GET and SET operations with various authentication methods (Basic, Bearer, API key). It defines configuration dataclasses, custom exceptions, and the main WebPAClient class with methods for initializing connections, performing GET/SET requests, handling retries, and closing connections.", "external_files": ["httpx"], "external_methods": ["httpx.AsyncClient", "httpx.BasicAuth"], "published": ["create_webpa_client", "WebPAClient", "WebPAConfig", "WebPAClientError", "WebPATimeoutError", "WebPAAuthError"], "classes": [{"name": "WebPAConfig", "description": "Dataclass holding configuration parameters for WebPA client, including URL, timeouts, retries, and auth details."}, {"name": "WebPAClientError", "description": "Base exception for errors related to WebPA client operations."}, {"name": "WebPATimeoutError", "description": "Exception indicating a timeout during WebPA operations."}, {"name": "WebPAAuthError", "description": "Exception indicating authentication failure in WebPA operations."}, {"name": "WebPAClient", "description": "Primary asynchronous class to perform WebPA GET and SET operations with support for multiple auth types, retries, and proper resource management."}], "methods": [{"name": "httpx.AsyncClient _get_client(self)", "description": "Creates or returns existing httpx.AsyncClient with proper authentication headers based on configuration.", "scope": "WebPAClient", "scopeKind": "class"}, {"name": "Dict[str,Any] get(self, path: str)", "description": "Performs an asynchronous GET request to retrieve device parameter data with retries and error handling.", "scope": "WebPAClient", "scopeKind": "class"}, {"name": "Dict[str,Any] set(self, path: str, value: Any, data_type: int = 0)", "description": "Performs an asynchronous SET request to update device parameters with retries and error handling.", "scope": "WebPAClient", "scopeKind": "class"}, {"name": "None close(self)", "description": "Closes the HTTP client and releases resources.", "scope": "WebPAClient", "scopeKind": "class"}, {"name": "__init__(self, config: WebPAConfig)", "scope": "WebPAClient", "scopeKind": "class", "description": "unavailable"}, {"name": "WebPAClient create_webpa_client(base_url: str, auth: Dict[str, Any])", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["self._get_client()", "client.get()", "client.patch()", "self._client.aclose()"], "search-terms": ["WebPA", "async HTTP client", "device configuration", "authentication methods", "WebPA GET", "WebPA SET"], "state": 2, "file_id": 77, "knowledge_revision": 174, "git_revision": "cb1725278595076f89bdff718c235dd382b960a2", "ctags": [{"_type": "tag", "name": "WebPAAuthError", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^class WebPAAuthError(WebPAClientError):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WebPAClient", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^class WebPAClient:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WebPAClientError", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^class WebPAClientError(Exception):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WebPAConfig", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^class WebPAConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WebPATimeoutError", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^class WebPATimeoutError(WebPAClientError):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    def __init__(self, config: WebPAConfig):$/", "language": "Python", "kind": "member", "signature": "(self, config: WebPAConfig)", "scope": "WebPAClient", "scopeKind": "class"}, {"_type": "tag", "name": "_get_client", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    async def _get_client(self) -> httpx.AsyncClient:$/", "language": "Python", "typeref": "typename:httpx.AsyncClient", "kind": "member", "signature": "(self)", "scope": "WebPAClient", "scopeKind": "class"}, {"_type": "tag", "name": "api_key", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    api_key: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "api_key_header", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    api_key_header: str = \"X-API-Key\"$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "auth_type", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    auth_type: str = \"none\"  # \"none\", \"basic\", \"bearer\", \"apikey\"$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "close", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    async def close(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "WebPAClient", "scopeKind": "class"}, {"_type": "tag", "name": "create_webpa_client", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^def create_webpa_client(base_url: str, auth: Dict[str, Any]) -> WebPAClient:$/", "language": "Python", "typeref": "typename:WebPAClient", "kind": "function", "signature": "(base_url: str, auth: Dict[str, Any])"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    async def get(self, path: str) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, path: str)", "scope": "WebPAClient", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    password: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "retries", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    retries: int = 3$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    async def set(self, path: str, value: Any, data_type: int = 0) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, path: str, value: Any, data_type: int = 0)", "scope": "WebPAClient", "scopeKind": "class"}, {"_type": "tag", "name": "timeout", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    timeout: float = 30.0$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    token: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/device-remote-management-581-705/BackendContainer/src/protocols/webpa_client.py", "pattern": "/^    username: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "WebPAConfig", "scopeKind": "class"}], "hash": "b4591a9a62f201c421e5b2f5d833e227", "format-version": 4, "code-base-name": "DatabaseContainer", "filename": "BackendContainer/src/protocols/webpa_client.py", "fields": [{"name": "Optional[str] api_key", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "str api_key_header", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "str auth_type", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] password", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "int retries", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "float timeout", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] token", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] username", "scope": "WebPAConfig", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"174": "cb1725278595076f89bdff718c235dd382b960a2"}]}