# =============================================================================
# Device Remote Management Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_DB=myapp
POSTGRES_USER=appuser
POSTGRES_PASSWORD=dbuser123
POSTGRES_PORT=5432

# Database connection URL (used by backend)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://appuser:dbuser123@localhost:5001/myapp

# -----------------------------------------------------------------------------
# Backend Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
BACKEND_PORT=3000

# CRITICAL: Change these secrets in production!
# Generate strong random secrets: openssl rand -base64 32
JWT_SECRET=change-this-secret-in-production-use-strong-random-string
JWT_REFRESH_SECRET=change-this-refresh-secret-in-production-use-strong-random-string

# Encryption key for sensitive data (must be exactly 32 characters)
ENCRYPTION_KEY=change-this-encryption-key-32-chars

# CORS Configuration
CORS_ORIGIN=http://localhost:5173

# JWT Token Configuration
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FORMAT=combined

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
FRONTEND_PORT=5173

# API URLs (used by frontend)
VITE_API_URL=http://localhost:3000
VITE_WS_URL=ws://localhost:3000

# Site URL for email redirects (used by Supabase/auth)
VITE_SITE_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Protocol Services Configuration
# -----------------------------------------------------------------------------

# SNMP Service
SNMP_ENABLED=true
SNMP_SERVICE_URL=
SNMP_API_KEY=
SNMP_TIMEOUT=5000
SNMP_RETRIES=3

# WebPA Service
WEBPA_ENABLED=true
WEBPA_SERVICE_URL=
WEBPA_API_KEY=
WEBPA_TIMEOUT=10000

# TR-069/ACS Service (ECO ACS or similar)
TR69_ENABLED=true
TR69_SERVICE_URL=
TR69_API_KEY=
TR69_ACS_USERNAME=
TR69_ACS_PASSWORD=
TR69_TIMEOUT=30000

# TR-369/USP Service
TR369_ENABLED=true
TR369_SERVICE_URL=
TR369_API_KEY=
TR369_MTP_PROTOCOL=stomp
TR369_TIMEOUT=30000

# -----------------------------------------------------------------------------
# Docker Compose Configuration
# -----------------------------------------------------------------------------

# Service Ports (exposed to host)
# Database: maps container port 5432 to host port 5001
# Backend: maps container port 3000 to host port 3000
# Frontend: maps container port 80 to host port 5173

# -----------------------------------------------------------------------------
# Development vs Production Notes
# -----------------------------------------------------------------------------

# DEVELOPMENT:
# - Use localhost URLs
# - Debug logging enabled
# - Hot reload enabled
# - Use default ports

# PRODUCTION:
# - Change ALL secrets and passwords
# - Use environment-specific URLs
# - Enable HTTPS
# - Configure proper CORS origins
# - Set NODE_ENV=production
# - Use production database with SSL
# - Enable rate limiting
# - Configure proper logging
# - Use secure encryption keys

# -----------------------------------------------------------------------------
# Security Checklist
# -----------------------------------------------------------------------------
# [ ] Changed JWT_SECRET to strong random value
# [ ] Changed JWT_REFRESH_SECRET to strong random value
# [ ] Changed ENCRYPTION_KEY to 32-character random string
# [ ] Changed POSTGRES_PASSWORD to strong password
# [ ] Set NODE_ENV=production in production
# [ ] Configured CORS_ORIGIN to actual domain
# [ ] Enabled HTTPS in production
# [ ] Set proper rate limiting values
# [ ] Configured protocol service API keys
# [ ] Reviewed and secured all service URLs
