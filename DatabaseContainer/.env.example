# PostgreSQL Database Configuration
# Copy this file to .env and update with your actual values

# Database connection parameters
DB_HOST=localhost
DB_PORT=5000
DB_NAME=myapp
DB_USER=appuser
DB_PASSWORD=dbuser123

# PostgreSQL specific settings
POSTGRES_URL=postgresql://appuser:dbuser123@localhost:5000/myapp
POSTGRES_USER=appuser
POSTGRES_PASSWORD=dbuser123
POSTGRES_DB=myapp
POSTGRES_PORT=5000

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=10000

# Query timeout (milliseconds)
DB_QUERY_TIMEOUT=30000

# SSL/TLS settings (set to 'require' for production)
DB_SSL_MODE=prefer

# Backup settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"

# Migration settings
AUTO_RUN_MIGRATIONS=true
MIGRATION_TIMEOUT=300

# Row-level security context variables (set by application)
# These are set programmatically by the backend, not in .env
# app.current_user_id - Current authenticated user ID
# app.current_tenant_id - Current tenant ID for multi-tenancy

# Monitoring and logging
DB_LOG_QUERIES=false
DB_LOG_SLOW_QUERIES=true
DB_SLOW_QUERY_THRESHOLD_MS=1000

# Partitioning settings
PARTITION_AUTO_CREATE=true
PARTITION_RETENTION_MONTHS=12
